"use strict";(self.webpackChunkprox=self.webpackChunkprox||[]).push([[207],{97207:function(e,n,i){i.r(n),i.d(n,{default:function(){return m}});var s,t=i(29439),r=i(72791),o=i(57689),a=i(50450),c=i(31537),l=i(30168),d=i(57220),u=i(56789),h=i(80184),j=function(e){var n=e.loading,i=(0,d.iv)(s||(s=(0,l.Z)(["\n    display: block;\n    margin: 0 auto;\n  "])));return(0,h.jsx)(h.Fragment,{children:n&&(0,h.jsx)("div",{className:"project-loader",style:{position:"fixed",top:"17%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,h.jsx)(u.Z,{color:"#BF1616",loading:!0,css:i,size:20})})})};var x=function(){var e=(0,r.useState)(16),n=(0,t.Z)(e,2),i=n[0],s=n[1],c=(0,o.s0)(),l=(0,o.UO)().id,d=parseInt(l,10),u=a.q.findIndex((function(e){return e.id===d}));return(0,r.useEffect)((function(){s(16)}),[d]),(0,h.jsxs)("div",{className:"buttons buttons-padding",children:[(0,h.jsxs)("div",{className:"buttons__wrapper",onClick:function(){var e=(u-1+a.q.length)%a.q.length,n=a.q[e].id;c("/bureaux/projects/info/".concat(n))},children:[(0,h.jsx)("div",{className:"buttons__btn",children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",children:[(0,h.jsx)("g",{clipPath:"url(#clip0_0_40643)",children:(0,h.jsx)("path",{d:"M16.875 20.252L10.125 13.502L16.875 6.75195",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip0_0_40643",children:(0,h.jsx)("rect",{width:"27",height:"27",fill:"white",transform:"matrix(0 -1 -1 0 27 27)"})})})]})}),(0,h.jsx)("span",{children:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456\u0439 \u043f\u0440\u043e\u0454\u043a\u0442"})]}),(0,h.jsxs)("div",{className:"buttons__wrapper",onClick:function(){var e=(u+1)%a.q.length,n=a.q[e].id;c("/bureaux/projects/info/".concat(n))},children:[(0,h.jsx)("span",{children:"\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043f\u0440\u043e\u0454\u043a\u0442"}),(0,h.jsx)("div",{className:"buttons__btn",children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",children:[(0,h.jsx)("g",{clipPath:"url(#clip0_0_40650)",children:(0,h.jsx)("path",{d:"M10.125 20.252L16.875 13.502L10.125 6.75195",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip0_0_40650",children:(0,h.jsx)("rect",{width:"27",height:"27",fill:"white",transform:"matrix(0 -1 1 0 0 27)"})})})]})})]}),(0,h.jsxs)("span",{style:{display:"none"},children:["\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u0445 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0439: ",i]})]})};var p=function(e){var n=e.onClose,i=e.imageSrc,s=e.imageAlt,t=e.onPrev,r=e.onNext,o=e.isPrevDisabled,a=e.isNextDisabled;return(0,h.jsx)("div",{className:"modal-overlay",onClick:function(){return n()},children:(0,h.jsxs)("div",{className:"modal",onClick:function(e){return e.stopPropagation()},children:[(0,h.jsx)("button",{className:"modal-close",onClick:function(){return n()},children:"\xd7"}),(0,h.jsxs)("div",{className:"modal-slider",children:[(0,h.jsx)("button",{className:"modal-arrow prev",disabled:o,onClick:t,children:"<"}),(0,h.jsx)("img",{className:"modal-img",src:i,alt:s}),(0,h.jsx)("button",{className:"modal-arrow next",disabled:a,onClick:r,children:">"})]})]})})},m=function(){var e=(0,r.useState)(16),n=(0,t.Z)(e,2),i=n[0],s=n[1],l=(0,r.useState)(!0),d=(0,t.Z)(l,2),u=d[0],m=d[1],f=(0,o.UO)().id,v=parseInt(f,10),g=a.q.findIndex((function(e){return e.id===v})),_=(0,r.useState)(!1),N=(0,t.Z)(_,2),b=N[0],k=N[1],w=(0,r.useState)(0),P=(0,t.Z)(w,2),C=P[0],q=P[1];(0,r.useEffect)((function(){m(!0),s(16),setTimeout((function(){return m(!1)}),500)}),[v]),(0,r.useEffect)((function(){m(!1)}),[i]);if(-1===g)return(0,h.jsx)("div",{children:"\u041f\u0440\u043e\u0435\u043a\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"});var y=a.q[g],L={backgroundImage:"url(".concat(y.mainPhoto,")"),backgroundSize:"cover",backgroundPosition:"center"};return(0,h.jsxs)("div",{className:"project-container",children:[(0,h.jsx)(c.Z,{}),(0,h.jsx)(j,{loading:u}),!u&&(0,h.jsx)("div",{className:"project-container__info",style:L,children:(0,h.jsx)("div",{className:"project-container__intro",children:(0,h.jsxs)("div",{className:"project-container__wrapper",children:[(0,h.jsx)("h1",{className:"project-container__title",children:y.name}),(0,h.jsxs)("div",{className:"project-container__description",children:[(0,h.jsx)("span",{className:"project-container__subtitle",children:y.square}),(0,h.jsx)("span",{className:"project-container__subtitle",children:y.city}),(0,h.jsx)("span",{className:"project-container__subtitle",children:y.year})]})]})})}),(0,h.jsxs)("div",{className:"project-container__photo",children:[(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)(x,{}),!u&&(0,h.jsx)("div",{className:"project-info",children:y.allPhoto.slice(0,i).map((function(e,n){return(0,h.jsx)("div",{className:"project-info__item",onClick:function(){q(n),k(!0)},children:(0,h.jsx)("img",{className:"project-info__img",src:e,alt:""},n)},n)}))}),!u&&i<y.allPhoto.length&&(0,h.jsx)("button",{className:"project-info__load-more",onClick:function(e){e.stopPropagation(),m(!0),s((function(e){return e+16})),setTimeout((function(){return m(!1)}),500)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435"}),(0,h.jsx)(x,{})]}),b&&(0,h.jsx)(p,{onClose:function(){return k(!1)},imageSrc:y.allPhoto[C],imageAlt:"gallery image",onPrev:function(){C>0&&q(C-1)},onNext:function(){C<y.allPhoto.length-1&&q(C+1)},isPrevDisabled:0===C,isNextDisabled:C===y.allPhoto.length-1})]})]})}}}]);
//# sourceMappingURL=207.4fb1bf2b.chunk.js.map